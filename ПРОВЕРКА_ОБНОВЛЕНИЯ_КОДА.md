# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞
–§–∞–π–ª `logs/commerceml_requests.log` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- –õ–∏–±–æ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –¥–æ—Ö–æ–¥—è—Ç –¥–æ Django
- –õ–∏–±–æ –∫–æ–¥ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–§–∞–π–ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:** `catalog/commerceml_views.py`

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `catalog/commerceml_views.py` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `commerceml_exchange` (–æ–∫–æ–ª–æ —Å—Ç—Ä–æ–∫–∏ 77-100) —Ç–∞–∫–æ–π –∫–æ–¥:

```python
# –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –õ–û–ì–ò–†–û–í–ê–ù–ò–ï - –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ —Ñ–∞–π–ª –Ω–∞–ø—Ä—è–º—É—é –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏
import os
from django.conf import settings
log_file_path = os.path.join(settings.BASE_DIR, 'logs', 'commerceml_requests.log')
os.makedirs(os.path.dirname(log_file_path), exist_ok=True)

try:
    with open(log_file_path, 'a', encoding='utf-8') as f:
        f.write(f"\n{'='*80}\n")
        f.write(f"{timezone.now().strftime('%Y-%m-%d %H:%M:%S')} - CommerceML –∑–∞–ø—Ä–æ—Å –ø–æ–ª—É—á–µ–Ω!\n")
        # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
```

**–ï—Å–ª–∏ —ç—Ç–æ–≥–æ –∫–æ–¥–∞ –ù–ï–¢:**
- –ö–æ–¥ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ù—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª `catalog/commerceml_views.py` –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é logs/

**–ü—É—Ç—å:** `logs/`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `logs/`
2. –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí —Å–æ–∑–¥–∞–π—Ç–µ –µ—ë
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 755)

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ endpoint –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://onesim8n.beget.tech/cml/exchange?type=catalog&mode=checkauth
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: `failure\n–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏`
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - –∑–Ω–∞—á–∏—Ç endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- –°–æ–∑–¥–∞–ª—Å—è –ª–∏ —Ñ–∞–π–ª `logs/commerceml_requests.log`
- –ï—Å–ª–∏ –¥–∞ ‚Üí –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç 1–° –Ω–µ –¥–æ—Ö–æ–¥—è—Ç
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –∫–æ–¥ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Django –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω

**–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ Django –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å!

**–ö–∞–∫ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ Beget:**
1. –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Beget
2. –ò–ª–∏ —á–µ—Ä–µ–∑ SSH (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø)
3. –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫)

## üîß –ß—Ç–æ –¥–µ–ª–∞—Ç—å:

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª `catalog/commerceml_views.py` –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª (—Å–º. –≤—ã—à–µ)

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é logs/

1. –í —Ñ–∞–π–ª–æ–≤–æ–º –º–µ–Ω–µ–¥–∂–µ—Ä–µ Beget —Å–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `logs/`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ 755
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ endpoint

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://onesim8n.beget.tech/cml/exchange?type=catalog&mode=checkauth`
2. –ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –°–æ–∑–¥–∞–ª—Å—è –ª–∏ —Ñ–∞–π–ª `logs/commerceml_requests.log`
   - –ï—Å–ª–∏ –¥–∞ ‚Üí –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç!

### –®–∞–≥ 4: –í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–±–º–µ–Ω –≤ 1–°

1. –í 1–° –Ω–∞–∂–º–∏—Ç–µ "–í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏"
2. –°—Ä–∞–∑—É –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –§–∞–π–ª `logs/commerceml_requests.log` - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø–∏—Å–∏
   - –§–∞–π–ª `logs/django.log` - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø–∏—Å–∏

## üìã –ß–µ–∫-–ª–∏—Å—Ç:

- [ ] –§–∞–π–ª `catalog/commerceml_views.py` –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –ö–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª (—Å—Ç—Ä–æ–∫–∏ 77-100)
- [ ] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `logs/` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ `logs/` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ (755)
- [ ] Endpoint –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] –ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è endpoint —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ñ–∞–π–ª `logs/commerceml_requests.log`
- [ ] Django –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞

## üí° –í–∞–∂–Ω–æ:

- –ï—Å–ª–∏ —Ñ–∞–π–ª `commerceml_requests.log` –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥–∞–∂–µ –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è endpoint –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Üí –∫–æ–¥ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ï—Å–ª–∏ —Ñ–∞–π–ª —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è endpoint, –Ω–æ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–±–º–µ–Ω–∞ –≤ 1–° ‚Üí –∑–∞–ø—Ä–æ—Å—ã –æ—Ç 1–° –Ω–µ –¥–æ—Ö–æ–¥—è—Ç
- –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ Django –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å!

## üö® –ï—Å–ª–∏ –∫–æ–¥ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω:

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª `catalog/commerceml_views.py` –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–¥ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (—Å—Ç—Ä–æ–∫–∏ 77-100)
3. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `logs/` –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Django (–∏–ª–∏ –ø–æ–¥–æ–∂–¥–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫)
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ endpoint –≤ –±—Ä–∞—É–∑–µ—Ä–µ
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–æ–∑–¥–∞–ª—Å—è –ª–∏ —Ñ–∞–π–ª `logs/commerceml_requests.log`
