# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ nginx —á–µ—Ä–µ–∑ SSH

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞

–ù–∞ shared hosting (Beget) –æ–±—ã—á–Ω–æ **–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ sudo** –∏ –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º `/etc/nginx/`.

–ù–æ –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º!

## üîç –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ SSH:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ sudo
sudo -l

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –¥–æ—Å—Ç—É–ø –∫ nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
ls -la /etc/nginx/
ls -la /etc/nginx/sites-available/
ls -la /etc/nginx/conf.d/
```

**–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥—ã –≤—ã–¥–∞—é—Ç "Permission denied"** - –∑–Ω–∞—á–∏—Ç –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞, –Ω—É–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.

## ‚úÖ –ï—Å–ª–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ sudo

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ñ–∏–≥

```bash
# –ù–∞–π–¥–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞
sudo ls -la /etc/nginx/sites-available/
sudo ls -la /etc/nginx/conf.d/

# –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–∑–∞–º–µ–Ω–∏—Ç–µ your-site –Ω–∞ –∏–º—è –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞)
sudo nano /etc/nginx/sites-available/onesim8n.beget.tech
# –∏–ª–∏
sudo nano /etc/nginx/conf.d/onesim8n.conf
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nano /etc/nginx/conf.d/onesim8n_timeout.conf
```

–î–æ–±–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª:

```nginx
server {
    # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
    proxy_read_timeout 3600s;
    proxy_connect_timeout 60s;
    proxy_send_timeout 3600s;
    
    # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞
    client_max_body_size 100M;
    client_body_buffer_size 128k;
    client_body_timeout 3600s;
    
    # –ò–ª–∏ –µ—Å–ª–∏ —ç—Ç–æ location –±–ª–æ–∫ –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞:
    location / {
        proxy_pass http://your-django-server;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # –¢–∞–π–º–∞—É—Ç—ã
        proxy_read_timeout 3600s;
        proxy_connect_timeout 60s;
        proxy_send_timeout 3600s;
    }
}
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é nginx
sudo nginx -t

# –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ nginx
sudo systemctl reload nginx
# –∏–ª–∏
sudo service nginx reload
```

## ‚ùå –ï—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ sudo

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Beget

1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Beget
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞" –∏–ª–∏ "Nginx"
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–º (–µ—Å–ª–∏ —Ç–∞–∫–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –µ—Å—Ç—å)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Beget (—Å–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤—ã—à–µ).

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

–ò–Ω–æ–≥–¥–∞ –Ω–∞ shared hosting –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
ls -la ~/nginx/
ls -la ~/.nginx/
ls -la ~/public_html/
ls -la ~/onesimus/onesimus/

# –ò—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .conf
find ~ -name "*.conf" -type f 2>/dev/null | grep -i nginx
```

## üìã –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –∏ –ø—Ä–∏—à–ª–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ sudo
whoami
sudo -l

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ nginx
ls -la /etc/nginx/ 2>&1

# 3. –ü–æ–∏—Å–∫ –∫–æ–Ω—Ñ–∏–≥–æ–≤
find /etc/nginx -name "*onesim*" -o -name "*beget*" 2>/dev/null

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ nginx
ps aux | grep nginx
```

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ .htaccess (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Apache)

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Apache –≤–º–µ—Å—Ç–æ nginx, –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–µ—Ä–µ–∑ `.htaccess`:

```apache
# –í —Ñ–∞–π–ª–µ .htaccess (—É–∂–µ –µ—Å—Ç—å —É –≤–∞—Å)
PassengerEnabled On
PassengerPython /home/o/onesim8n/onesimus/venv/bin/python

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ shared hosting)
<IfModule mod_passenger.c>
  PassengerRequestTimeout 3600
</IfModule>
```

–ù–æ –∫–∞–∫ –º—ã –≤—ã—è—Å–Ω–∏–ª–∏, —ç—Ç–æ –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å.

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç** - –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Beget, —Ç–∞–∫ –∫–∞–∫ –Ω–∞ shared hosting –æ–±—ã—á–Ω–æ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º nginx.
