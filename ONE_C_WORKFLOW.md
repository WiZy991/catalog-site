# –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ 1–° —Å Django —Å–∞–π—Ç–æ–º

## –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   1–° (–ö–ª–∏–µ–Ω—Ç)   ‚îÇ
‚îÇ                 ‚îÇ
‚îÇ 1. –§–æ—Ä–º–∏—Ä—É–µ—Ç    ‚îÇ
‚îÇ    –¥–∞–Ω–Ω—ã–µ –æ     ‚îÇ
‚îÇ    —Ç–æ–≤–∞—Ä–∞—Ö      ‚îÇ
‚îÇ                 ‚îÇ
‚îÇ 2. –°–æ–∑–¥–∞–µ—Ç JSON ‚îÇ
‚îÇ    –∑–∞–ø—Ä–æ—Å       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ HTTP POST
         ‚îÇ /api/1c/sync/
         ‚îÇ Headers: X-API-Key
         ‚îÇ Body: JSON —Å —Ç–æ–≤–∞—Ä–∞–º–∏
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Django —Å–∞–π—Ç (–°–µ—Ä–≤–µ—Ä)          ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ 1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏  ‚îÇ
‚îÇ    ‚îî‚îÄ‚ñ∫ –ï—Å–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π ‚Üí 401      ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ 2. –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ            ‚îÇ
‚îÇ    ‚îî‚îÄ‚ñ∫ –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Üí 400        ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ 3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–≤–∞—Ä—ã          ‚îÇ
‚îÇ    ‚îî‚îÄ‚ñ∫ –í —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏             ‚îÇ
‚îÇ    ‚îî‚îÄ‚ñ∫ –°–æ–∑–¥–∞–µ—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç        ‚îÇ
‚îÇ    ‚îî‚îÄ‚ñ∫ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
‚îÇ                                  ‚îÇ
‚îÇ 4. –°–æ–∑–¥–∞–µ—Ç –ª–æ–≥ SyncLog          ‚îÇ
‚îÇ    ‚îî‚îÄ‚ñ∫ –°—Ç–∞—Ç—É—Å: success/error    ‚îÇ
‚îÇ    ‚îî‚îÄ‚ñ∫ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤      ‚îÇ
‚îÇ    ‚îî‚îÄ‚ñ∫ –°–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫            ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ 5. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç             ‚îÇ
‚îÇ    ‚îî‚îÄ‚ñ∫ 200 OK (—É—Å–ø–µ—Ö)           ‚îÇ
‚îÇ    ‚îî‚îÄ‚ñ∫ 207 Multi-Status (—á–∞—Å—Ç–∏—á–Ω–æ)
‚îÇ    ‚îî‚îÄ‚ñ∫ 400/500 (–æ—à–∏–±–∫–∞)         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ JSON Response
         ‚îÇ {
         ‚îÇ   "status": "success",
         ‚îÇ   "processed": 10,
         ‚îÇ   "created": 3,
         ‚îÇ   "updated": 7,
         ‚îÇ   "errors": []
         ‚îÇ }
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   1–° (–ö–ª–∏–µ–Ω—Ç)   ‚îÇ
‚îÇ                 ‚îÇ
‚îÇ –ü–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç  ‚îÇ
‚îÇ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç      ‚îÇ
‚îÇ —Ä–µ–∑—É–ª—å—Ç–∞—Ç       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞

```
POST /api/1c/sync/
‚îÇ
‚îú‚îÄ‚ñ∫ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚ñ∫ –¢–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ X-API-Key?
‚îÇ   ‚îú‚îÄ‚ñ∫ –¢–æ–∫–µ–Ω –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ (token)?
‚îÇ   ‚îî‚îÄ‚ñ∫ –¢–æ–∫–µ–Ω —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å ONE_C_API_KEY?
‚îÇ       ‚îú‚îÄ‚ñ∫ –ù–ï–¢ ‚Üí 401 Unauthorized
‚îÇ       ‚îî‚îÄ‚ñ∫ –î–ê ‚Üí –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
‚îÇ
‚îú‚îÄ‚ñ∫ –ü–∞—Ä—Å–∏–Ω–≥ JSON
‚îÇ   ‚îú‚îÄ‚ñ∫ –í–∞–ª–∏–¥–Ω—ã–π JSON?
‚îÇ   ‚îÇ   ‚îú‚îÄ‚ñ∫ –ù–ï–¢ ‚Üí 400 Bad Request
‚îÇ   ‚îÇ   ‚îî‚îÄ‚ñ∫ –î–ê ‚Üí –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚ñ∫ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
‚îÇ       ‚îú‚îÄ‚ñ∫ –ï—Å—Ç—å –ø–æ–ª–µ "token"?
‚îÇ       ‚îú‚îÄ‚ñ∫ –ï—Å—Ç—å –ø–æ–ª–µ "products"?
‚îÇ       ‚îî‚îÄ‚ñ∫ "products" - –º–∞—Å—Å–∏–≤?
‚îÇ
‚îú‚îÄ‚ñ∫ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ (–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚ñ∫ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚ñ∫ sku (–∞—Ä—Ç–∏–∫—É–ª) –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚ñ∫ name –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚ñ∫ price –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –∏ >= 0
‚îÇ   ‚îÇ   ‚îú‚îÄ‚ñ∫ stock >= 0
‚îÇ   ‚îÇ   ‚îî‚îÄ‚ñ∫ old_price > price (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚ñ∫ –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É
‚îÇ   ‚îÇ   ‚îú‚îÄ‚ñ∫ –ù–∞–π–¥–µ–Ω ‚Üí –û–±–Ω–æ–≤–∏—Ç—å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚ñ∫ –ù–µ –Ω–∞–π–¥–µ–Ω ‚Üí –°–æ–∑–¥–∞—Ç—å
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚ñ∫ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π —Ç–æ–≤–∞—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚ñ∫ –ù–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚ñ∫ –¶–µ–Ω—ã (price, old_price)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚ñ∫ –û—Å—Ç–∞—Ç–æ–∫ (stock)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚ñ∫ –ö–∞—Ç–µ–≥–æ—Ä–∏—è (—Å–æ–∑–¥–∞—Ç—å, –µ—Å–ª–∏ –Ω–µ—Ç)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚ñ∫ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (is_active)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚ñ∫ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚ñ∫ –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚ñ∫ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚ñ∫ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
‚îÇ
‚îú‚îÄ‚ñ∫ –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–∞ SyncLog
‚îÇ   ‚îú‚îÄ‚ñ∫ –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏: api_sync
‚îÇ   ‚îú‚îÄ‚ñ∫ –°—Ç–∞—Ç—É—Å: success/partial/error
‚îÇ   ‚îú‚îÄ‚ñ∫ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: processed, created, updated
‚îÇ   ‚îú‚îÄ‚ñ∫ –û—à–∏–±–∫–∏: —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫
‚îÇ   ‚îî‚îÄ‚ñ∫ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: IP, —Ñ–æ—Ä–º–∞—Ç, –≤—Ä–µ–º—è
‚îÇ
‚îî‚îÄ‚ñ∫ –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞
    ‚îú‚îÄ‚ñ∫ 200 OK (–≤—Å–µ —É—Å–ø–µ—à–Ω–æ)
    ‚îú‚îÄ‚ñ∫ 207 Multi-Status (—á–∞—Å—Ç–∏—á–Ω–æ —É—Å–ø–µ—à–Ω–æ)
    ‚îî‚îÄ‚ñ∫ 400/500 (–æ—à–∏–±–∫–∞)
```

---

## –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   1–° (–ö–ª–∏–µ–Ω—Ç)   ‚îÇ
‚îÇ                 ‚îÇ
‚îÇ 1. –°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª ‚îÇ
‚îÇ    (CSV/XML/    ‚îÇ
‚îÇ     JSON)       ‚îÇ
‚îÇ                 ‚îÇ
‚îÇ 2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç   ‚îÇ
‚îÇ    —Ñ–∞–π–ª         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ HTTP POST
         ‚îÇ /api/1c/upload/
         ‚îÇ Headers: X-API-Key
         ‚îÇ Body: multipart/form-data
         ‚îÇ       file=products.csv
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Django —Å–∞–π—Ç (–°–µ—Ä–≤–µ—Ä)          ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ 1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω              ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ 2. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞      ‚îÇ
‚îÇ    ‚îî‚îÄ‚ñ∫ –ü–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é (.csv/.xml/.json)
‚îÇ                                  ‚îÇ
‚îÇ 3. –ü–∞—Ä—Å–∏—Ç —Ñ–∞–π–ª                  ‚îÇ
‚îÇ    ‚îú‚îÄ‚ñ∫ CSV ‚Üí parse_csv_file()
‚îÇ    ‚îú‚îÄ‚ñ∫ XML ‚Üí parse_xml_file()
‚îÇ    ‚îî‚îÄ‚ñ∫ JSON ‚Üí parse_json_file()
‚îÇ                                  ‚îÇ
‚îÇ 4. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–≤–∞—Ä—ã          ‚îÇ
‚îÇ    ‚îî‚îÄ‚ñ∫ –¢–∞ –∂–µ –ª–æ–≥–∏–∫–∞, —á—Ç–æ –∏ –≤ API‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ 5. –°–æ–∑–¥–∞–µ—Ç –ª–æ–≥ SyncLog          ‚îÇ
‚îÇ    ‚îî‚îÄ‚ñ∫ operation_type: file_upload
‚îÇ                                  ‚îÇ
‚îÇ 6. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ JSON Response
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   1–° (–ö–ª–∏–µ–Ω—Ç)   ‚îÇ
‚îÇ                 ‚îÇ
‚îÇ –ü–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ì–¥–µ —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ

```
–ê–¥–º–∏–Ω–∫–∞ Django (/admin/)
‚îÇ
‚îú‚îÄ‚ñ∫ Catalog
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚ñ∫ Products
‚îÇ   ‚îÇ   ‚îî‚îÄ‚ñ∫ –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ       ‚îú‚îÄ‚ñ∫ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∏–∑ 1–°
‚îÇ   ‚îÇ       ‚îî‚îÄ‚ñ∫ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∏–∑ 1–°
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚ñ∫ Product characteristics
‚îÇ   ‚îÇ   ‚îî‚îÄ‚ñ∫ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ       ‚îî‚îÄ‚ñ∫ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∏–∑ 1–°
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚ñ∫ Sync logs  ‚Üê –í–ê–ñ–ù–û! –ó–¥–µ—Å—å –ª–æ–≥–∏!
‚îÇ       ‚îî‚îÄ‚ñ∫ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
‚îÇ           ‚îú‚îÄ‚ñ∫ Operation type: api_sync / file_upload
‚îÇ           ‚îú‚îÄ‚ñ∫ Status: success / partial / error
‚îÇ           ‚îú‚îÄ‚ñ∫ Processed count: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ           ‚îú‚îÄ‚ñ∫ Created count: —Å–æ–∑–¥–∞–Ω–æ
‚îÇ           ‚îú‚îÄ‚ñ∫ Updated count: –æ–±–Ω–æ–≤–ª–µ–Ω–æ
‚îÇ           ‚îú‚îÄ‚ñ∫ Errors count: –æ—à–∏–±–æ–∫
‚îÇ           ‚îî‚îÄ‚ñ∫ Errors: —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫
‚îÇ
‚îî‚îÄ‚ñ∫ –î—Ä—É–≥–∏–µ —Ä–∞–∑–¥–µ–ª—ã...
```

---

## –°—Ç–∞—Ç—É—Å—ã –∏ –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –°—Ç–∞—Ç—É—Å –≤ SyncLog  ‚îÇ HTTP –∫–æ–¥ ‚îÇ –ó–Ω–∞—á–µ–Ω–∏–µ ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ success           ‚îÇ 200      ‚îÇ –í—Å–µ –û–ö   ‚îÇ
‚îÇ partial           ‚îÇ 207      ‚îÇ –ß–∞—Å—Ç–∏—á–Ω–æ ‚îÇ
‚îÇ error             ‚îÇ 400/500  ‚îÇ –û—à–∏–±–∫–∞   ‚îÇ
‚îÇ unauthorized      ‚îÇ 401      ‚îÇ –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–≥–¥–∞ –∫–∞–∫–æ–π —Å—Ç–∞—Ç—É—Å:

**success (200):**
- ‚úÖ –í—Å–µ —Ç–æ–≤–∞—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫
- ‚úÖ `errors_count = 0`

**partial (207):**
- ‚ö†Ô∏è –ß–∞—Å—Ç—å —Ç–æ–≤–∞—Ä–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞
- ‚ö†Ô∏è –ï—Å—Ç—å –æ—à–∏–±–∫–∏
- ‚ö†Ô∏è `errors_count > 0`, –Ω–æ `created_count + updated_count > 0`

**error (400/500):**
- ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞
- ‚ùå –¢–æ–≤–∞—Ä—ã –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- ‚ùå `errors_count > 0`, `created_count = 0`, `updated_count = 0`

**unauthorized (401):**
- üîí –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω
- üîí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `ONE_C_API_KEY` –≤ settings.py

---

## –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å–∞–π—Ç–µ
   ‚îÇ
   ‚îú‚îÄ‚ñ∫ –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
   ‚îú‚îÄ‚ñ∫ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ settings.py
   ‚îî‚îÄ‚ñ∫ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
   ‚îÇ
2. –¢–µ—Å—Ç –∏–∑ 1–°
   ‚îÇ
   ‚îú‚îÄ‚ñ∫ –°–æ–∑–¥–∞—Ç—å –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–∫–∏
   ‚îú‚îÄ‚ñ∫ –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É
   ‚îî‚îÄ‚ñ∫ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç (–∫–æ–¥ 200)
   ‚îÇ
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∞–¥–º–∏–Ω–∫–µ
   ‚îÇ
   ‚îú‚îÄ‚ñ∫ –û—Ç–∫—Ä—ã—Ç—å /admin/catalog/synclog/
   ‚îú‚îÄ‚ñ∫ –ù–∞–π—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω—é—é –∑–∞–ø–∏—Å—å
   ‚îú‚îÄ‚ñ∫ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Status: success
   ‚îú‚îÄ‚ñ∫ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Errors count: 0
   ‚îî‚îÄ‚ñ∫ –û—Ç–∫—Ä—ã—Ç—å –∑–∞–ø–∏—Å—å ‚Üí —É–≤–∏–¥–µ—Ç—å –¥–µ—Ç–∞–ª–∏
   ‚îÇ
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
   ‚îÇ
   ‚îú‚îÄ‚ñ∫ –û—Ç–∫—Ä—ã—Ç—å /admin/catalog/product/
   ‚îú‚îÄ‚ñ∫ –ù–∞–π—Ç–∏ —Ç–æ–≤–∞—Ä –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É
   ‚îî‚îÄ‚ñ∫ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (—Ü–µ–Ω–∞, –æ—Å—Ç–∞—Ç–æ–∫, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏)
   ‚îÇ
5. –ì–æ—Ç–æ–≤–æ! ‚úÖ
```

---

## –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç "—É–≤–∏–¥–µ—Ç—å –≤ –ª–æ–≥–∞—Ö 200"

### –í –∞–¥–º–∏–Ω–∫–µ Django:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `/admin/catalog/synclog/`
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –∑–∞–ø–∏—Å—å (—Å–∞–º–∞—è –≤–µ—Ä—Ö–Ω—è—è)
3. –í –∫–æ–ª–æ–Ω–∫–µ **"Status"** –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: **`success`** (–∑–µ–ª–µ–Ω—ã–π)
4. –í –∫–æ–ª–æ–Ω–∫–µ **"Errors count"** –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: **`0`**
5. –û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–ø–∏—Å—å ‚Üí –≤ —Ä–∞–∑–¥–µ–ª–µ **"–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"**:
   - **Status:** `success`
   - –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ HTTP –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ –±—ã–ª **200 OK**

### –í –∫–æ–Ω—Å–æ–ª–∏ Django (runserver):

```
[12/Jan/2024 10:30:45] "POST /api/1c/sync/ HTTP/1.1" 200 123
                                                      ^^^
                                                      –≠—Ç–æ –∫–æ–¥ 200!
```

### –í –æ—Ç–≤–µ—Ç–µ –æ—Ç API:

```json
{
  "status": "success",  ‚Üê –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∫–æ–¥ 200
  "processed": 10,
  "created": 3,
  "updated": 7,
  "errors": []
}
```

---

## –ò—Ç–æ–≥–æ

**–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å 200 –≤ –ª–æ–≥–∞—Ö:**

1. ‚úÖ –¢–æ–∫–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
2. ‚úÖ –î–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–Ω—ã
3. ‚úÖ –¢–æ–≤–∞—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ
4. ‚úÖ –í –∞–¥–º–∏–Ω–∫–µ: Status = `success`, Errors count = `0`

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª–æ–≥ –≤ –∞–¥–º–∏–Ω–∫–µ
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "Errors"
3. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–æ–±–ª–µ–º—É
4. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–∫—É
